<!DOCTYPE html>
<html lang="pl">

<head>
    <meta charset="UTF-8" />
    <title>Test Zawodowy - HackHeroes25</title>
    <style>
        body {
            font-family: sans-serif;
            margin: 2rem;
            background: #f6f7fb;
            max-width: 900px;
            margin: 0 auto;
            padding: 2rem;
        }

        h1 {
            font-size: 1.8rem;
            margin-bottom: 1rem;
            text-align: center;
        }

        .question {
            background: white;
            padding: 1rem;
            margin-bottom: 1rem;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .question h3 {
            margin: 0 0 0.5rem 0;
            color: #374151;
        }

        .radio-group {
            display: flex;
            gap: 1rem;
            flex-wrap: wrap;
            margin: 0.5rem 0;
        }

        .radio-option {
            display: flex;
            align-items: center;
            gap: 0.25rem;
        }

        .radio-option input {
            margin: 0;
        }

        .labels {
            display: flex;
            justify-content: space-between;
            font-size: 0.8rem;
            color: #6b7280;
            margin-bottom: 0.5rem;
        }

        .open-question {
            background: white;
            padding: 1rem;
            margin-bottom: 1rem;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .user-id-section {
            background: white;
            padding: 1rem;
            margin-bottom: 1rem;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .user-id-section input {
            width: 100%;
            padding: 0.5rem;
            border: 1px solid #d1d5db;
            border-radius: 4px;
            margin-top: 0.5rem;
            font-family: inherit;
        }

        .open-question textarea {
            width: 100%;
            min-height: 80px;
            padding: 0.5rem;
            border: 1px solid #d1d5db;
            border-radius: 4px;
            font-family: inherit;
        }

        button {
            background: #3b82f6;
            color: white;
            padding: 0.75rem 2rem;
            border: none;
            border-radius: 6px;
            font-size: 1rem;
            cursor: pointer;
            display: block;
            margin: 2rem auto 0;
        }

        button:hover {
            background: #2563eb;
        }

        button:disabled {
            background: #9ca3af;
            cursor: not-allowed;
        }

        #result {
            margin-top: 2rem;
        }

        .trait-scores {
            background: white;
            padding: 1rem;
            margin-bottom: 1rem;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .traits-display {
            margin-top: 1.5rem;
            padding: 1rem;
            background: #eef2ff;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
        }

        .trait-list-item {
            display: flex;
            justify-content: space-between;
            padding: 0.35rem 0;
            border-bottom: 1px solid #e5e7eb;
        }

        .trait-list-item:last-child {
            border-bottom: none;
        }

        .trait-list-name {
            font-weight: 600;
            color: #111827;
        }

        .trait-list-value {
            font-weight: 700;
            color: #2563eb;
        }

        .trait-bar {
            display: flex;
            align-items: center;
            margin-bottom: 0.5rem;
        }

        .trait-name {
            width: 200px;
            font-weight: 500;
        }

        .trait-value {
            width: 50px;
            text-align: right;
            font-weight: bold;
            color: #3b82f6;
        }

        .bar-container {
            flex: 1;
            height: 20px;
            background: #e5e7eb;
            border-radius: 10px;
            margin: 0 1rem;
            overflow: hidden;
        }

        .bar-fill {
            height: 100%;
            background: linear-gradient(90deg, #3b82f6, #06b6d4);
            border-radius: 10px;
        }

        .persona-text {
            background: white;
            padding: 1.5rem;
            margin-bottom: 1rem;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            line-height: 1.6;
        }

        .scoring-details {
            background: white;
            padding: 1rem;
            margin-bottom: 1rem;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .scoring-details h4 {
            margin: 0 0 1rem 0;
            color: #374151;
        }

        .question-details {
            margin-top: 1.5rem;
            padding: 1rem;
            background: #fef3c7;
            border-radius: 8px;
        }

        .question-detail {
            margin-bottom: 1rem;
            padding: 0.75rem;
            background: #fff;
            border-radius: 6px;
            border-left: 4px solid #f59e0b;
            box-shadow: 0 1px 2px rgba(0, 0, 0, 0.04);
        }

        .question-detail:last-child {
            border-bottom: none;
        }

        .question-detail h5 {
            margin: 0 0 0.5rem 0;
            color: #92400e;
        }

        .question-detail ul {
            margin: 0;
            padding-left: 1.5rem;
        }

        .question-detail li {
            margin-bottom: 0.35rem;
            font-size: 0.9rem;
        }

        .impact-list {
            margin: 0.5rem 0;
            font-size: 0.9rem;
        }

        .impact-item {
            margin: 0.25rem 0;
        }

        .open-analysis {
            margin: 0.5rem 0;
            padding: 0.5rem;
            background: #f8fafc;
            border-radius: 4px;
            font-size: 0.9rem;
        }

        .open-scoring {
            margin-top: 1.5rem;
            padding: 1rem;
            background: #dbeafe;
            border-radius: 8px;
        }

        .open-scoring ul {
            margin: 0;
            padding-left: 1.5rem;
        }

        .trait-matches {
            display: grid;
            gap: 0.5rem;
            margin-top: 0.5rem;
        }

        .trait-match {
            padding: 0.5rem;
            border-radius: 4px;
            font-size: 0.9rem;
        }

        .trait-match.above-threshold {
            background: #dcfce7;
            border-left: 3px solid #16a34a;
        }

        .trait-match.negative-impact {
            background: #fee2e2;
            border-left: 3px solid #dc2626;
        }

        .trait-match.below-threshold {
            background: #fef2f2;
            border-left: 3px solid #dc2626;
            opacity: 0.7;
        }

        .open-details {
            margin-top: 1.5rem;
            padding: 1rem;
            background: #ecfdf5;
            border-radius: 8px;
        }

        .open-answer-detail {
            margin-bottom: 1.25rem;
            padding: 1rem;
            background: white;
            border-radius: 6px;
            border-left: 4px solid #10b981;
        }

        .open-answer-detail h5 {
            margin: 0 0 0.75rem 0;
            color: #065f46;
            font-size: 1rem;
        }

        .logs {
            background: #1f2937;
            color: #f9fafb;
            padding: 1rem;
            border-radius: 8px;
            font-family: monospace;
            font-size: 0.9rem;
            white-space: pre-wrap;
            overflow-x: auto;
        }

        .scoring-logs {
            margin-top: 1.5rem;
            padding: 1rem;
            background: #f3f4f6;
            border-radius: 8px;
        }

        .scoring-logs pre {
            background: #111827;
            color: #e5e7eb;
            padding: 1rem;
            border-radius: 6px;
            overflow-x: auto;
            margin: 0;
            font-size: 0.85rem;
        }
    </style>
</head>

<body>
    <h1>Test Zawodowy - HackHeroes25</h1>
    <p>Odpowiedz na wszystkie pytania u≈ºywajƒÖc skali od 1 do 7. Nastƒôpnie przejd≈∫ do pyta≈Ñ otwartych.</p>

    <form id="vocation-form">
        <div class="user-id-section">
            <label for="user_id"><strong>Tw√≥j ID u≈ºytkownika:</strong></label>
            <input type="text" id="user_id" name="user_id" placeholder="Wpisz swoje ID u≈ºytkownika" required>
            <small>ID mo≈ºesz uzyskaƒá z systemu autoryzacji lub u≈ºyƒá testowego ID</small>
        </div>

        <!-- Pytania zamkniƒôte -->
        <div class="question">
            <h3>1. Dobrze odnajdujƒô siƒô w pracy grupowej</h3>
            <div class="labels">
                <span>Zawsze nie</span>
                <span>Zawsze tak</span>
            </div>
            <div class="radio-group">
                <label class="radio-option"><input type="radio" name="q1" value="1"> 1</label>
                <label class="radio-option"><input type="radio" name="q1" value="2"> 2</label>
                <label class="radio-option"><input type="radio" name="q1" value="3"> 3</label>
                <label class="radio-option"><input type="radio" name="q1" value="4"> 4</label>
                <label class="radio-option"><input type="radio" name="q1" value="5"> 5</label>
                <label class="radio-option"><input type="radio" name="q1" value="6"> 6</label>
                <label class="radio-option"><input type="radio" name="q1" value="7"> 7</label>
            </div>
        </div>

        <div class="question">
            <h3>2. Efektywniej pracujƒô, je≈õli jestem sam</h3>
            <div class="labels">
                <span>Zawsze nie</span>
                <span>Zawsze tak</span>
            </div>
            <div class="radio-group">
                <label class="radio-option"><input type="radio" name="q2" value="1"> 1</label>
                <label class="radio-option"><input type="radio" name="q2" value="2"> 2</label>
                <label class="radio-option"><input type="radio" name="q2" value="3"> 3</label>
                <label class="radio-option"><input type="radio" name="q2" value="4"> 4</label>
                <label class="radio-option"><input type="radio" name="q2" value="5"> 5</label>
                <label class="radio-option"><input type="radio" name="q2" value="6"> 6</label>
                <label class="radio-option"><input type="radio" name="q2" value="7"> 7</label>
            </div>
        </div>

        <div class="question">
            <h3>3. Lubiƒô wykonywaƒá drobne naprawy w domu, albo innƒÖ pracƒô manualnƒÖ</h3>
            <div class="labels">
                <span>Zawsze nie</span>
                <span>Zawsze tak</span>
            </div>
            <div class="radio-group">
                <label class="radio-option"><input type="radio" name="q3" value="1"> 1</label>
                <label class="radio-option"><input type="radio" name="q3" value="2"> 2</label>
                <label class="radio-option"><input type="radio" name="q3" value="3"> 3</label>
                <label class="radio-option"><input type="radio" name="q3" value="4"> 4</label>
                <label class="radio-option"><input type="radio" name="q3" value="5"> 5</label>
                <label class="radio-option"><input type="radio" name="q3" value="6"> 6</label>
                <label class="radio-option"><input type="radio" name="q3" value="7"> 7</label>
            </div>
        </div>

        <div class="question">
            <h3>4. Lubiƒô/lubi≈Çem pisaƒá rozprawki w szkole, albo prace naukowe na studiach</h3>
            <div class="labels">
                <span>Zawsze nie</span>
                <span>Zawsze tak</span>
            </div>
            <div class="radio-group">
                <label class="radio-option"><input type="radio" name="q4" value="1"> 1</label>
                <label class="radio-option"><input type="radio" name="q4" value="2"> 2</label>
                <label class="radio-option"><input type="radio" name="q4" value="3"> 3</label>
                <label class="radio-option"><input type="radio" name="q4" value="4"> 4</label>
                <label class="radio-option"><input type="radio" name="q4" value="5"> 5</label>
                <label class="radio-option"><input type="radio" name="q4" value="6"> 6</label>
                <label class="radio-option"><input type="radio" name="q4" value="7"> 7</label>
            </div>
        </div>

        <div class="question">
            <h3>5. Jestem zaawansowany w og√≥lnej obs≈Çudze komputera (skr√≥ty klawiszowe, pakiety biurowe i inne programy)
            </h3>
            <div class="labels">
                <span>Zawsze nie</span>
                <span>Zawsze tak</span>
            </div>
            <div class="radio-group">
                <label class="radio-option"><input type="radio" name="q5" value="1"> 1</label>
                <label class="radio-option"><input type="radio" name="q5" value="2"> 2</label>
                <label class="radio-option"><input type="radio" name="q5" value="3"> 3</label>
                <label class="radio-option"><input type="radio" name="q5" value="4"> 4</label>
                <label class="radio-option"><input type="radio" name="q5" value="5"> 5</label>
                <label class="radio-option"><input type="radio" name="q5" value="6"> 6</label>
                <label class="radio-option"><input type="radio" name="q5" value="7"> 7</label>
            </div>
        </div>

        <div class="question">
            <h3>6. Mam wyczucie estetyki</h3>
            <div class="labels">
                <span>Zawsze nie</span>
                <span>Zawsze tak</span>
            </div>
            <div class="radio-group">
                <label class="radio-option"><input type="radio" name="q6" value="1"> 1</label>
                <label class="radio-option"><input type="radio" name="q6" value="2"> 2</label>
                <label class="radio-option"><input type="radio" name="q6" value="3"> 3</label>
                <label class="radio-option"><input type="radio" name="q6" value="4"> 4</label>
                <label class="radio-option"><input type="radio" name="q6" value="5"> 5</label>
                <label class="radio-option"><input type="radio" name="q6" value="6"> 6</label>
                <label class="radio-option"><input type="radio" name="q6" value="7"> 7</label>
            </div>
        </div>

        <div class="question">
            <h3>7. Lubiƒô wyra≈ºaƒá swojƒÖ opiniƒô na dany temat</h3>
            <div class="labels">
                <span>Zawsze nie</span>
                <span>Zawsze tak</span>
            </div>
            <div class="radio-group">
                <label class="radio-option"><input type="radio" name="q7" value="1"> 1</label>
                <label class="radio-option"><input type="radio" name="q7" value="2"> 2</label>
                <label class="radio-option"><input type="radio" name="q7" value="3"> 3</label>
                <label class="radio-option"><input type="radio" name="q7" value="4"> 4</label>
                <label class="radio-option"><input type="radio" name="q7" value="5"> 5</label>
                <label class="radio-option"><input type="radio" name="q7" value="6"> 6</label>
                <label class="radio-option"><input type="radio" name="q7" value="7"> 7</label>
            </div>
        </div>

        <div class="question">
            <h3>8. Regularnie obcujƒô ze sztukƒÖ (teatr, opera, wystawy i inne)</h3>
            <div class="labels">
                <span>Zawsze nie</span>
                <span>Zawsze tak</span>
            </div>
            <div class="radio-group">
                <label class="radio-option"><input type="radio" name="q8" value="1"> 1</label>
                <label class="radio-option"><input type="radio" name="q8" value="2"> 2</label>
                <label class="radio-option"><input type="radio" name="q8" value="3"> 3</label>
                <label class="radio-option"><input type="radio" name="q8" value="4"> 4</label>
                <label class="radio-option"><input type="radio" name="q8" value="5"> 5</label>
                <label class="radio-option"><input type="radio" name="q8" value="6"> 6</label>
                <label class="radio-option"><input type="radio" name="q8" value="7"> 7</label>
            </div>
        </div>

        <div class="question">
            <h3>9. Umiem my≈õleƒá algorytmicznie</h3>
            <div class="labels">
                <span>Zawsze nie</span>
                <span>Zawsze tak</span>
            </div>
            <div class="radio-group">
                <label class="radio-option"><input type="radio" name="q9" value="1"> 1</label>
                <label class="radio-option"><input type="radio" name="q9" value="2"> 2</label>
                <label class="radio-option"><input type="radio" name="q9" value="3"> 3</label>
                <label class="radio-option"><input type="radio" name="q9" value="4"> 4</label>
                <label class="radio-option"><input type="radio" name="q9" value="5"> 5</label>
                <label class="radio-option"><input type="radio" name="q9" value="6"> 6</label>
                <label class="radio-option"><input type="radio" name="q9" value="7"> 7</label>
            </div>
        </div>

        <div class="question">
            <h3>10. Lubiƒô rozwiƒÖzywaƒá z≈Ço≈ºone problemy</h3>
            <div class="labels">
                <span>Zawsze nie</span>
                <span>Zawsze tak</span>
            </div>
            <div class="radio-group">
                <label class="radio-option"><input type="radio" name="q10" value="1"> 1</label>
                <label class="radio-option"><input type="radio" name="q10" value="2"> 2</label>
                <label class="radio-option"><input type="radio" name="q10" value="3"> 3</label>
                <label class="radio-option"><input type="radio" name="q10" value="4"> 4</label>
                <label class="radio-option"><input type="radio" name="q10" value="5"> 5</label>
                <label class="radio-option"><input type="radio" name="q10" value="6"> 6</label>
                <label class="radio-option"><input type="radio" name="q10" value="7"> 7</label>
            </div>
        </div>

        <div class="question">
            <h3>11. Chcƒô tworzyƒá co≈õ, z czego bƒôdƒÖ korzystaƒá inni ludzie</h3>
            <div class="labels">
                <span>Zawsze nie</span>
                <span>Zawsze tak</span>
            </div>
            <div class="radio-group">
                <label class="radio-option"><input type="radio" name="q11" value="1"> 1</label>
                <label class="radio-option"><input type="radio" name="q11" value="2"> 2</label>
                <label class="radio-option"><input type="radio" name="q11" value="3"> 3</label>
                <label class="radio-option"><input type="radio" name="q11" value="4"> 4</label>
                <label class="radio-option"><input type="radio" name="q11" value="5"> 5</label>
                <label class="radio-option"><input type="radio" name="q11" value="6"> 6</label>
                <label class="radio-option"><input type="radio" name="q11" value="7"> 7</label>
            </div>
        </div>

        <div class="question">
            <h3>12. Szybko uczƒô siƒô jƒôzyk√≥w obcych</h3>
            <div class="labels">
                <span>Zawsze nie</span>
                <span>Zawsze tak</span>
            </div>
            <div class="radio-group">
                <label class="radio-option"><input type="radio" name="q12" value="1"> 1</label>
                <label class="radio-option"><input type="radio" name="q12" value="2"> 2</label>
                <label class="radio-option"><input type="radio" name="q12" value="3"> 3</label>
                <label class="radio-option"><input type="radio" name="q12" value="4"> 4</label>
                <label class="radio-option"><input type="radio" name="q12" value="5"> 5</label>
                <label class="radio-option"><input type="radio" name="q12" value="6"> 6</label>
                <label class="radio-option"><input type="radio" name="q12" value="7"> 7</label>
            </div>
        </div>

        <div class="question">
            <h3>13. Jestem sprawny fizycznie</h3>
            <div class="labels">
                <span>Zawsze nie</span>
                <span>Zawsze tak</span>
            </div>
            <div class="radio-group">
                <label class="radio-option"><input type="radio" name="q13" value="1"> 1</label>
                <label class="radio-option"><input type="radio" name="q13" value="2"> 2</label>
                <label class="radio-option"><input type="radio" name="q13" value="3"> 3</label>
                <label class="radio-option"><input type="radio" name="q13" value="4"> 4</label>
                <label class="radio-option"><input type="radio" name="q13" value="5"> 5</label>
                <label class="radio-option"><input type="radio" name="q13" value="6"> 6</label>
                <label class="radio-option"><input type="radio" name="q13" value="7"> 7</label>
            </div>
        </div>

        <div class="question">
            <h3>14. Ceniƒô sobie kontakt z naturƒÖ</h3>
            <div class="labels">
                <span>Zawsze nie</span>
                <span>Zawsze tak</span>
            </div>
            <div class="radio-group">
                <label class="radio-option"><input type="radio" name="q14" value="1"> 1</label>
                <label class="radio-option"><input type="radio" name="q14" value="2"> 2</label>
                <label class="radio-option"><input type="radio" name="q14" value="3"> 3</label>
                <label class="radio-option"><input type="radio" name="q14" value="4"> 4</label>
                <label class="radio-option"><input type="radio" name="q14" value="5"> 5</label>
                <label class="radio-option"><input type="radio" name="q14" value="6"> 6</label>
                <label class="radio-option"><input type="radio" name="q14" value="7"> 7</label>
            </div>
        </div>

        <div class="question">
            <h3>15. Poszukujƒô pracy kt√≥ra zapewni mi stabilno≈õƒá finansowƒÖ i bezpiecze≈Ñstwo</h3>
            <div class="labels">
                <span>Zawsze nie</span>
                <span>Zawsze tak</span>
            </div>
            <div class="radio-group">
                <label class="radio-option"><input type="radio" name="q15" value="1"> 1</label>
                <label class="radio-option"><input type="radio" name="q15" value="2"> 2</label>
                <label class="radio-option"><input type="radio" name="q15" value="3"> 3</label>
                <label class="radio-option"><input type="radio" name="q15" value="4"> 4</label>
                <label class="radio-option"><input type="radio" name="q15" value="5"> 5</label>
                <label class="radio-option"><input type="radio" name="q15" value="6"> 6</label>
                <label class="radio-option"><input type="radio" name="q15" value="7"> 7</label>
            </div>
        </div>

        <div class="question">
            <h3>16. Wolƒô pracowaƒá zdalnie, z dowolnego miejsca na ≈õwiecie</h3>
            <div class="labels">
                <span>Zawsze nie</span>
                <span>Zawsze tak</span>
            </div>
            <div class="radio-group">
                <label class="radio-option"><input type="radio" name="q16" value="1"> 1</label>
                <label class="radio-option"><input type="radio" name="q16" value="2"> 2</label>
                <label class="radio-option"><input type="radio" name="q16" value="3"> 3</label>
                <label class="radio-option"><input type="radio" name="q16" value="4"> 4</label>
                <label class="radio-option"><input type="radio" name="q16" value="5"> 5</label>
                <label class="radio-option"><input type="radio" name="q16" value="6"> 6</label>
                <label class="radio-option"><input type="radio" name="q16" value="7"> 7</label>
            </div>
        </div>

        <div class="question">
            <h3>17. Jestem kiepski w wystƒÖpieniach publicznych i unikam ich jak ognia</h3>
            <div class="labels">
                <span>Zawsze nie</span>
                <span>Zawsze tak</span>
            </div>
            <div class="radio-group">
                <label class="radio-option"><input type="radio" name="q17" value="1"> 1</label>
                <label class="radio-option"><input type="radio" name="q17" value="2"> 2</label>
                <label class="radio-option"><input type="radio" name="q17" value="3"> 3</label>
                <label class="radio-option"><input type="radio" name="q17" value="4"> 4</label>
                <label class="radio-option"><input type="radio" name="q17" value="5"> 5</label>
                <label class="radio-option"><input type="radio" name="q17" value="6"> 6</label>
                <label class="radio-option"><input type="radio" name="q17" value="7"> 7</label>
            </div>
        </div>

        <div class="question">
            <h3>18. Bardzo ceniƒô sobie aspekt finansowy pracy</h3>
            <div class="labels">
                <span>Zawsze nie</span>
                <span>Zawsze tak</span>
            </div>
            <div class="radio-group">
                <label class="radio-option"><input type="radio" name="q18" value="1"> 1</label>
                <label class="radio-option"><input type="radio" name="q18" value="2"> 2</label>
                <label class="radio-option"><input type="radio" name="q18" value="3"> 3</label>
                <label class="radio-option"><input type="radio" name="q18" value="4"> 4</label>
                <label class="radio-option"><input type="radio" name="q18" value="5"> 5</label>
                <label class="radio-option"><input type="radio" name="q18" value="6"> 6</label>
                <label class="radio-option"><input type="radio" name="q18" value="7"> 7</label>
            </div>
        </div>

        <div class="question">
            <h3>19. Chcƒô by praca rozwija≈Ça mnie jako cz≈Çowieka, nawet kosztem mniejszych zarobk√≥w lub mniejszej
                stabilno≈õci</h3>
            <div class="labels">
                <span>Zawsze nie</span>
                <span>Zawsze tak</span>
            </div>
            <div class="radio-group">
                <label class="radio-option"><input type="radio" name="q19" value="1"> 1</label>
                <label class="radio-option"><input type="radio" name="q19" value="2"> 2</label>
                <label class="radio-option"><input type="radio" name="q19" value="3"> 3</label>
                <label class="radio-option"><input type="radio" name="q19" value="4"> 4</label>
                <label class="radio-option"><input type="radio" name="q19" value="5"> 5</label>
                <label class="radio-option"><input type="radio" name="q19" value="6"> 6</label>
                <label class="radio-option"><input type="radio" name="q19" value="7"> 7</label>
            </div>
        </div>

        <div class="question">
            <h3>20. Dobrze wyciƒÖgam wnioski na podstawie danych</h3>
            <div class="labels">
                <span>Zawsze nie</span>
                <span>Zawsze tak</span>
            </div>
            <div class="radio-group">
                <label class="radio-option"><input type="radio" name="q20" value="1"> 1</label>
                <label class="radio-option"><input type="radio" name="q20" value="2"> 2</label>
                <label class="radio-option"><input type="radio" name="q20" value="3"> 3</label>
                <label class="radio-option"><input type="radio" name="q20" value="4"> 4</label>
                <label class="radio-option"><input type="radio" name="q20" value="5"> 5</label>
                <label class="radio-option"><input type="radio" name="q20" value="6"> 6</label>
                <label class="radio-option"><input type="radio" name="q20" value="7"> 7</label>
            </div>
        </div>

        <div class="question">
            <h3>21. Interesujƒô siƒô anatomiƒÖ cz≈Çowieka i pracƒÖ lekarzy</h3>
            <div class="labels">
                <span>Zawsze nie</span>
                <span>Zawsze tak</span>
            </div>
            <div class="radio-group">
                <label class="radio-option"><input type="radio" name="q21" value="1"> 1</label>
                <label class="radio-option"><input type="radio" name="q21" value="2"> 2</label>
                <label class="radio-option"><input type="radio" name="q21" value="3"> 3</label>
                <label class="radio-option"><input type="radio" name="q21" value="4"> 4</label>
                <label class="radio-option"><input type="radio" name="q21" value="5"> 5</label>
                <label class="radio-option"><input type="radio" name="q21" value="6"> 6</label>
                <label class="radio-option"><input type="radio" name="q21" value="7"> 7</label>
            </div>
        </div>

        <div class="question">
            <h3>22. Mam dobrƒÖ pamiƒôƒá do pojƒôƒá</h3>
            <div class="labels">
                <span>Zawsze nie</span>
                <span>Zawsze tak</span>
            </div>
            <div class="radio-group">
                <label class="radio-option"><input type="radio" name="q22" value="1"> 1</label>
                <label class="radio-option"><input type="radio" name="q22" value="2"> 2</label>
                <label class="radio-option"><input type="radio" name="q22" value="3"> 3</label>
                <label class="radio-option"><input type="radio" name="q22" value="4"> 4</label>
                <label class="radio-option"><input type="radio" name="q22" value="5"> 5</label>
                <label class="radio-option"><input type="radio" name="q22" value="6"> 6</label>
                <label class="radio-option"><input type="radio" name="q22" value="7"> 7</label>
            </div>
        </div>

        <div class="question">
            <h3>23. Lubiƒô braƒá udzia≈Ç w zorganizowanych projektach grupowych, w szkole, na uczelni lub w pracy</h3>
            <div class="labels">
                <span>Zawsze nie</span>
                <span>Zawsze tak</span>
            </div>
            <div class="radio-group">
                <label class="radio-option"><input type="radio" name="q23" value="1"> 1</label>
                <label class="radio-option"><input type="radio" name="q23" value="2"> 2</label>
                <label class="radio-option"><input type="radio" name="q23" value="3"> 3</label>
                <label class="radio-option"><input type="radio" name="q23" value="4"> 4</label>
                <label class="radio-option"><input type="radio" name="q23" value="5"> 5</label>
                <label class="radio-option"><input type="radio" name="q23" value="6"> 6</label>
                <label class="radio-option"><input type="radio" name="q23" value="7"> 7</label>
            </div>
        </div>

        <!-- Pytania otwarte -->
        <div class="open-question">
            <h3>24. Opisz sytuacjƒô z pracy, kt√≥ra da≈Ça Ci najwiƒôkszƒÖ satysfakcjƒô i dlaczego?</h3>
            <textarea name="open1" placeholder="Opisz konkretnƒÖ sytuacjƒô zawodowƒÖ..."></textarea>
        </div>

        <div class="open-question">
            <h3>25. Jakie umiejƒôtno≈õci lub wiedzƒô chcia≈Çby≈õ/chcia≈Çaby≈õ najbardziej rozwijaƒá w swojej karierze?</h3>
            <textarea name="open2" placeholder="Wymie≈Ñ konkretne umiejƒôtno≈õci, technologie, dziedziny..."></textarea>
        </div>

        <div class="open-question">
            <h3>26. Czego najbardziej unikasz lub czego siƒô obawiasz w kontek≈õcie pracy zawodowej?</h3>
            <textarea name="open3" placeholder="Opisz sytuacje, warunki pracy, kt√≥re Ciƒô stresujƒÖ..."></textarea>
        </div>

        <div class="open-question">
            <h3>27. Jak praca wp≈Çywa na Twoje ≈ºycie prywatne - czego oczekujesz od tego balansu?</h3>
            <textarea name="open4"
                placeholder="Opisz idealny balans praca-≈ºycie, elastyczno≈õƒá, priorytety..."></textarea>
        </div>

        <button type="submit" id="submit-btn">Wy≈õlij Test Zawodowy</button>
    </form>

    <div id="result"></div>

    <script>
        document.getElementById('vocation-form').addEventListener('submit', async function (e) {
            e.preventDefault();

            const submitBtn = document.getElementById('submit-btn');
            submitBtn.disabled = true;
            submitBtn.textContent = 'Wysy≈Çanie...';

            // Zbierz odpowiedzi zamkniƒôte
            const closedAnswers = [];
            for (let i = 1; i <= 23; i++) {
                const radio = document.querySelector(`input[name="q${i}"]:checked`);
                if (!radio) {
                    alert(`Odpowiedz na pytanie ${i}`);
                    submitBtn.disabled = false;
                    submitBtn.textContent = 'Wy≈õlij Test Zawodowy';
                    return;
                }
                closedAnswers.push(parseInt(radio.value));
            }

            // Zbierz odpowiedzi otwarte
            const openAnswers = [];
            const openFields = ['open1', 'open2', 'open3', 'open4'];
            for (const field of openFields) {
                const textarea = document.querySelector(`textarea[name="${field}"]`);
                const value = textarea.value.trim();
                if (!value) {
                    alert(`Wype≈Çnij wszystkie pytania otwarte`);
                    submitBtn.disabled = false;
                    submitBtn.textContent = 'Wy≈õlij Test Zawodowy';
                    return;
                }
                openAnswers.push(value);
            }

            // Pobierz user_id z pola
            const userIdInput = document.getElementById('user_id');
            const userId = userIdInput.value.trim();
            if (!userId) {
                alert('Wpisz swoje ID u≈ºytkownika!');
                submitBtn.disabled = false;
                submitBtn.textContent = 'Wy≈õlij Test Zawodowy';
                return;
            }

            const payload = {
                user_id: userId,
                closed_answers: closedAnswers,
                open_answers: openAnswers
            };

            try {
                const response = await fetch('/tests/vocation', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(payload)
                });

                const data = await response.json();

                if (!response.ok) {
                    throw new Error(data.detail || 'B≈ÇƒÖd podczas wysy≈Çania');
                }

                displayResults(data);
            } catch (error) {
                alert('B≈ÇƒÖd: ' + error.message);
            } finally {
                submitBtn.disabled = false;
                submitBtn.textContent = 'Wy≈õlij Test Zawodowy';
            }
        });

        function displayResults(data) {
            const resultDiv = document.getElementById('result');
            let resultHtml = `<div class="scoring-details"><h3>${data.message}</h3></div>`;

            if (data.trait_scores && Object.keys(data.trait_scores).length > 0) {
                resultHtml += '<div class="traits-display"><h4>üèÜ Cechy zawodowe (≈ÇƒÖczne wyniki):</h4>';
                Object.entries(data.trait_scores).forEach(([trait, score]) => {
                    const numericScore = typeof score === 'number' ? score : 0;
                    const percentage = (numericScore * 100).toFixed(1);
                    resultHtml += `
                        <div class="trait-list-item">
                            <span class="trait-list-name">${trait.replace(/_/g, ' ')}</span>
                            <span class="trait-list-value">${percentage}%</span>
                        </div>
                    `;
                });
                resultHtml += '</div>';
            }

            if (data.question_details && data.question_details.length > 0) {
                resultHtml += '<div class="question-details"><h4>üìä Szczeg√≥≈Çy scoringu pyta≈Ñ zamkniƒôtych:</h4>';
                data.question_details.forEach((detail, index) => {
                    const questionNumber = detail.question_number ?? (index + 1);
                    const answerValue = typeof detail.answer === 'number' ? detail.answer : '?';
                    resultHtml += `<div class="question-detail"><h5>Pytanie ${questionNumber} (odpowied≈∫: ${answerValue}/7)</h5><ul>`;
                    if (Array.isArray(detail.impacts)) {
                        detail.impacts.forEach(impact => {
                            const reverseNote = impact.reverse ? ' (odwr√≥cona skala)' : '';
                            const normalized = typeof impact.normalized_answer === 'number'
                                ? impact.normalized_answer.toFixed(3)
                                : (typeof impact.normalized === 'number' ? impact.normalized.toFixed(3) : '‚Äî');
                            const weightValue = typeof impact.weight === 'number'
                                ? impact.weight.toFixed(2)
                                : (impact.weight ?? '‚Äî');
                            const contributionValue = typeof impact.contribution === 'number'
                                ? impact.contribution.toFixed(3)
                                : (typeof impact.effect === 'number' ? impact.effect.toFixed(3) : '0.000');
                            resultHtml += `<li><strong>${(impact.trait || '').replace(/_/g, ' ')}:</strong> znormalizowane ${normalized} √ó waga ${weightValue} = ${contributionValue}${reverseNote}</li>`;
                        });
                    }
                    resultHtml += '</ul></div>';
                });
                resultHtml += '</div>';
            }

            if (data.open_answers_scoring && Object.keys(data.open_answers_scoring).length > 0) {
                resultHtml += '<div class="open-scoring"><h4>üí¨ Scoring odpowiedzi otwartych:</h4><ul>';
                Object.entries(data.open_answers_scoring).forEach(([trait, score]) => {
                    const numericScore = typeof score === 'number' ? score : 0;
                    resultHtml += `<li><strong>${trait.replace(/_/g, ' ')}:</strong> ${numericScore.toFixed(3)}</li>`;
                });
                resultHtml += '</ul></div>';
            }

            if (data.open_answers_details && data.open_answers_details.length > 0) {
                resultHtml += '<div class="open-details"><h4>üìù Szczeg√≥≈Çy analizy pyta≈Ñ otwartych:</h4>';
                data.open_answers_details.forEach(answer => {
                    const answerText = answer.answer_text || '';
                    const answerNumber = answer.answer_number ?? '?';
                    resultHtml += `<div class="open-answer-detail">
                        <h5>Odpowied≈∫ ${answerNumber}: "${answerText}"</h5>
                        <div class="trait-matches">`;

                    if (Array.isArray(answer.trait_matches)) {
                        answer.trait_matches.forEach(match => {
                            const cosine = typeof match.cosine_similarity === 'number' ? match.cosine_similarity : 0;
                            const contribution = typeof match.contribution === 'number' ? match.contribution : 0;
                            const isNegative = match.match_kind === 'negative';
                            const thresholdIcon = match.above_threshold
                                ? (isNegative ? '‚ö†Ô∏è' : '‚úÖ')
                                : '‚ùå';
                            const thresholdNote = match.above_threshold
                                ? (isNegative ? ' ‚Äì wp≈Çyw obni≈ºajƒÖcy' : ' ‚Äì wp≈Çyw wzmacniajƒÖcy')
                                : ' (poni≈ºej progu)';
                            const matchClass = isNegative
                                ? (match.above_threshold ? 'negative-impact' : 'below-threshold')
                                : (match.above_threshold ? 'above-threshold' : 'below-threshold');

                            resultHtml += `<div class="trait-match ${matchClass}">
                                <strong>${(match.trait || '').replace(/_/g, ' ')}:</strong> ${thresholdIcon} podobie≈Ñstwo: ${cosine.toFixed(3)}, wk≈Çad: ${contribution.toFixed(3)}${thresholdNote}
                            </div>`;
                        });
                    } else {
                        resultHtml += '<div class="open-analysis">Brak wykrytych cech</div>';
                    }

                    resultHtml += '</div></div>';
                });
                resultHtml += '</div>';
            }

            if (data.scoring_logs && data.scoring_logs.length > 0) {
                resultHtml += '<div class="scoring-logs"><h4>üîç Logi systemu scoring:</h4><pre>';
                data.scoring_logs.forEach(log => {
                    resultHtml += `${log}\n`;
                });
                resultHtml += '</pre></div>';
            }

            if (data.persona_text) {
                resultHtml += `<div class="persona-text"><h3>üß† Opis Osobowo≈õci Zawodowej</h3><p>${data.persona_text.replace(/\n/g, '<br>')}</p></div>`;
            } else if (data.persona_generated) {
                resultHtml += '<div class="persona-text"><h3>üß† Opis Osobowo≈õci Zawodowej</h3><p>Opis zosta≈Ç wygenerowany, ale nie uda≈Ço siƒô go pobraƒá ‚Äì spr√≥buj ponownie.</p></div>';
            } else {
                resultHtml += '<div class="persona-text"><h3>‚ÑπÔ∏è Opis Osobowo≈õci</h3><p>Wype≈Çnij oba testy, aby wygenerowaƒá pe≈Çny opis osobowo≈õci zawodowej.</p></div>';
            }

            resultDiv.innerHTML = resultHtml;
        }
    </script>
</body>

</html>